<!DOCTYPE html>
<html lang="la">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecturalenta</title>
    <link rel="canonical" href="https://www.architecturalenta.com/" />
    <link rel="stylesheet" href="style.css">
    
    <meta name="description" content="Architectura Lenta - Portfolio of Ing. arch. Karol Filo. Slow architecture, sustainable design, and digital experiments.">
    <meta name="keywords" content="architecture, slow architecture, Karol Filo, Brno, sustainable design">
    <meta name="author" content="Ing. arch. Karol Filo">
</head>
<body>

    <div class="site-wrapper">
        
        <header>
            <h1 class="lenta-title" data-translate="POMALÁ ARCHITEKTÚRA">
                <span>ARCHITECTURA LENTA</span>
            </h1>
        </header>

        <section class="manifest-section">
            <p>CHAO . LENTA . ORDO</p>
        </section>

        <main class="grid-container" id="lenta-grid"></main>

        <footer>
            <p>&copy; 2025 ARCHITECTURALENTA</p>
            <p class="rights">OMNIA IURA RESERVATA</p>
        </footer>

    </div>

    <div id="overlay">
        <div class="close-btn" onclick="closeOverlay()">×</div>
        <div class="overlay-content" id="overlay-dynamic-content"></div>
    </div>

    <script>
        // --- DÁTA PROJEKTOV ---
        const projects = [
            { id: "08", name: "OCTAVA",    type: "new" },
            { id: "07", name: "SEPTIMA",   type: "new" },
            { id: "06", name: "SESTA",     type: "new" },
            { id: "05", name: "QUINTA",    type: "new" },
            { id: "04", name: "QUARTA",    type: "new" },
            { id: "03", name: "TERTIA",    type: "content" },
            { id: "02", name: "SECUNDA",   type: "content" },
            { id: "01", name: "PRIMA",     type: "content" },
            { id: "00", name: "NULLA",     type: "chaos" }
        ];

        const gridContainer = document.getElementById('lenta-grid');
        const overlay = document.getElementById('overlay');
        const overlayContent = document.getElementById('overlay-dynamic-content');

        // Generovanie Gridu
        projects.forEach(project => {
            const card = document.createElement('div');
            card.className = 'card';
            
            // Smart Image Logic
            const smartImage = `
                <img src="assets/${project.id}/cover.svg" 
                     onerror="this.onerror=null; this.src='assets/${project.id}/cover.jpg';" 
                     alt="${project.name}">
            `;

            card.innerHTML = `
                <div class="content">
                    <div class="layer project">
                        ${smartImage}
                        <div class="info">${project.name}</div>
                    </div>
                </div>
            `;

            card.addEventListener('click', () => openProject(project));
            gridContainer.appendChild(card);
        });

        // Otvorenie Detailu
        async function openProject(project) {
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Zablokuje scrollovanie pozadia
            
            let html = `<h1>${project.name} <span style="font-size:0.5em; opacity:0.5; font-weight:normal">(${project.id})</span></h1>`;
            
            // Načítanie textu
            try {
                const response = await fetch(`assets/${project.id}/text.txt`);
                if (response.ok) {
                    const text = await response.text();
                    html += `<div class="project-text">${text}</div>`;
                }
            } catch (e) {}

            // Obrázok v detaile
            html += `<img src="assets/${project.id}/cover.svg" 
                          onerror="this.onerror=null; this.src='assets/${project.id}/cover.jpg';" 
                          style="width:100%; margin-top:20px; display:block;">`;

            overlayContent.innerHTML = html;
        }

        function closeOverlay() {
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // Zavretie klávesou ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") closeOverlay();
        });
    </script>
</body>
</html>
